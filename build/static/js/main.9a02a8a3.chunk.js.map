{"version":3,"sources":["pages/Home/styles.ts","services/api.ts","util/format.ts","hooks/useCart.tsx","pages/Home/index.tsx","pages/Cart/styles.ts","pages/Cart/index.tsx","routes.tsx","assets/images/background.svg","styles/global.ts","assets/images/logo.svg","components/Header/styles.ts","components/Header/index.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["ProductList","styled","ul","darken","api","axios","create","baseURL","formatPrice","Intl","NumberFormat","style","currency","format","CartContext","createContext","CartProvider","children","useState","storagedCart","localStorage","getItem","JSON","parse","cart","setCart","prevCartRef","useRef","useEffect","current","cartPreviousValue","setItem","stringify","addProduct","productId","a","currentCart","hasProduct","find","item","id","get","then","response","data","amount","stockProduct","toast","error","productAPI","newProduct","push","updateProductAmount","product","Error","Provider","value","removeProduct","productIndex","findIndex","splice","useCart","useContext","Home","products","setProducts","cartItemsAmount","reduce","sumAmount","loadProducts","map","src","image","alt","title","price","type","data-testid","onClick","size","color","Container","div","ProductTable","table","lighten","Total","Cart","cartFormatted","priceFormatted","subtotal","total","sumTotal","aria-label","disabled","handleProductDecrement","readOnly","handleProductIncrement","Routes","path","exact","component","createGlobalStyle","background","header","Link","Header","cartSize","acc","to","logo","App","autoClose","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9a02a8a3.chunk.js","sourcesContent":["import styled from 'styled-components';\r\nimport { darken } from 'polished';\r\n\r\nexport const ProductList = styled.ul`\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  grid-gap: 20px;\r\n  list-style: none;\r\n\r\n  li {\r\n    display: flex;\r\n    flex-direction: column;\r\n    background: #fff;\r\n    border-radius: 4px;\r\n    padding: 20px;\r\n\r\n    img {\r\n      align-self: center;\r\n      max-width: 250px;\r\n    }\r\n\r\n    > strong {\r\n      font-size: 16px;\r\n      line-height: 20px;\r\n      color: #333;\r\n      margin-top: 5px;\r\n    }\r\n\r\n    > span {\r\n      font-size: 21px;\r\n      font-weight: bold;\r\n      margin: 5px 0 20px;\r\n    }\r\n\r\n    button {\r\n      background: #7159c1;\r\n      color: #fff;\r\n      border: 0;\r\n      border-radius: 4px;\r\n      overflow: hidden;\r\n      margin-top: auto;\r\n\r\n      display: flex;\r\n      align-items: center;\r\n      transition: background 0.2s;\r\n\r\n      &:hover {\r\n        background: ${darken(0.06, '#7159c1')};\r\n      }\r\n\r\n      div {\r\n        display: flex;\r\n        align-items: center;\r\n        padding: 12px;\r\n        background: rgba(0, 0, 0, 0.1);\r\n\r\n        svg {\r\n          margin-right: 5px;\r\n        }\r\n      }\r\n\r\n      span {\r\n        flex: 1;\r\n        text-align: center;\r\n        font-weight: bold;\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import axios from 'axios';\r\n\r\nexport const api = axios.create({\r\n  baseURL: 'http://localhost:3333',\r\n});\r\n","export const { format: formatPrice } = new Intl.NumberFormat('pt-br', {\r\n  style: 'currency',\r\n  currency: 'BRL',\r\n});\r\n","import { createContext, ReactNode, useContext, useState, useRef, useEffect } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport { api } from '../services/api';\r\nimport { Product, Stock } from '../types';\r\n\r\ninterface CartProviderProps {\r\n  children: ReactNode;\r\n}\r\n\r\ninterface UpdateProductAmount {\r\n  productId: number;\r\n  amount: number;\r\n}\r\n\r\ninterface CartContextData {\r\n  cart: Product[];\r\n  addProduct: (productId: number) => Promise<void>;\r\n  removeProduct: (productId: number) => void;\r\n  updateProductAmount: ({ productId, amount }: UpdateProductAmount) => void;\r\n}\r\n\r\nconst CartContext = createContext<CartContextData>({} as CartContextData);\r\n\r\nexport function CartProvider({ children }: CartProviderProps): JSX.Element {\r\n  const [cart, setCart] = useState<Product[]>(() => {\r\n    const storagedCart = localStorage.getItem('@RocketShoes:cart');\r\n\r\n    if (storagedCart) {\r\n      return JSON.parse(storagedCart);\r\n    }\r\n\r\n    return [];\r\n  });\r\n\r\n  const prevCartRef = useRef<Product[]>();\r\n  \r\n  useEffect(() => {\r\n    prevCartRef.current = cart;\r\n  }, []);\r\n\r\n  const cartPreviousValue = prevCartRef.current ?? cart;\r\n\r\n  useEffect(() => {\r\n    if(cartPreviousValue !== cart){\r\n      localStorage.setItem('@RocketShoes:cart', JSON.stringify(cart));\r\n    }\r\n  }, [cart, cartPreviousValue]);\r\n\r\n  const addProduct = async (productId: number) => {\r\n    try {\r\n      const currentCart = [...cart];\r\n      const hasProduct = cart.find(item => item.id === productId) || false;\r\n\r\n      const stockProduct = await api.get(`/stock/${productId}`)\r\n      .then(response => response.data.amount);\r\n\r\n      const amount = hasProduct ? hasProduct.amount : 0;\r\n\r\n      if(stockProduct <= amount){\r\n        toast.error('Quantidade solicitada fora de estoque');\r\n        return;\r\n      }\r\n\r\n      if(hasProduct){\r\n        hasProduct.amount += 1;\r\n      }\r\n      else{\r\n        const productAPI = await api.get(`/products/${productId}`)\r\n        .then(response => response.data);\r\n\r\n        const newProduct = {\r\n          ...productAPI, \r\n          amount: 1\r\n        }\r\n        currentCart.push(newProduct);\r\n      }\r\n\r\n      setCart(currentCart);\r\n\r\n    } catch {\r\n      toast.error('Erro na adição do produto');\r\n    }\r\n  };\r\n\r\n  const removeProduct = (productId: number) => {\r\n    try {\r\n      const currentCart = [...cart];\r\n      const productIndex = currentCart.findIndex(item => item.id === productId);\r\n\r\n      if(productIndex >= 0){\r\n        currentCart.splice(productIndex, 1);\r\n        setCart(currentCart);     \r\n      }\r\n      else{\r\n        throw Error();\r\n      }\r\n    } catch {\r\n      toast.error('Erro na remoção do produto');\r\n    }\r\n  };\r\n\r\n  const updateProductAmount = async ({\r\n    productId,\r\n    amount,\r\n  }: UpdateProductAmount) => {\r\n    try {\r\n      if(amount <= 0){\r\n        return;\r\n      }\r\n      \r\n      const stockProduct = await api.get(`/stock/${productId}`)\r\n      .then(response => response.data.amount);\r\n\r\n      if(amount > stockProduct){\r\n        toast.error('Quantidade solicitada fora de estoque');\r\n        return;\r\n      }\r\n\r\n      const currentCart = [...cart];\r\n      const product = currentCart.find(product => product.id === productId);\r\n      \r\n      if(product){\r\n        product.amount = amount;\r\n        setCart(currentCart);\r\n      }\r\n      else{\r\n        throw Error();\r\n      }\r\n    } catch {\r\n      toast.error('Erro na alteração de quantidade do produto');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <CartContext.Provider\r\n      value={{ cart, addProduct, removeProduct, updateProductAmount }}\r\n    >\r\n      {children}\r\n    </CartContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useCart(): CartContextData {\r\n  const context = useContext(CartContext);\r\n\r\n  return context;\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { MdAddShoppingCart } from 'react-icons/md';\r\n\r\nimport { ProductList } from './styles';\r\nimport { api } from '../../services/api';\r\nimport { formatPrice } from '../../util/format';\r\nimport { useCart } from '../../hooks/useCart';\r\n\r\ninterface Product {\r\n  id: number;\r\n  title: string;\r\n  price: number;\r\n  image: string;\r\n}\r\n\r\ninterface ProductFormatted extends Product {\r\n  priceFormatted: string;\r\n}\r\n\r\ninterface CartItemsAmount {\r\n  [key: number]: number;\r\n}\r\n\r\nconst Home = (): JSX.Element => {\r\n  const [products, setProducts] = useState<ProductFormatted[]>([]);\r\n  const { addProduct, cart } = useCart();\r\n\r\n  const cartItemsAmount = cart.reduce((sumAmount, product) => {\r\n    return {\r\n      ...sumAmount, \r\n      [product.id]: product.amount\r\n    }\r\n  }, {} as CartItemsAmount)\r\n\r\n  useEffect(() => {\r\n    async function loadProducts() {\r\n      api.get('/products').then(response => setProducts(response.data));     \r\n    }\r\n\r\n    loadProducts();\r\n  }, []);\r\n\r\n  function handleAddProduct(id: number) {\r\n    addProduct(id);   \r\n  }\r\n\r\n  return (\r\n    <ProductList>\r\n      {products.map(product => (\r\n        <li key={product.id}>\r\n          <img src={product.image} alt={product.title} />\r\n          <strong>{product.title}</strong>\r\n          <span>{formatPrice(product.price)}</span>\r\n          <button\r\n            type=\"button\"\r\n            data-testid=\"add-product-button\"\r\n            onClick={() => handleAddProduct(product.id)}\r\n          >\r\n            <div data-testid=\"cart-product-quantity\">\r\n              <MdAddShoppingCart size={16} color=\"#FFF\" />\r\n              { cartItemsAmount[product.id] || 0 }\r\n            </div>\r\n\r\n            <span>ADICIONAR AO CARRINHO</span>\r\n          </button>\r\n        </li>\r\n      ))}      \r\n    </ProductList>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import styled from 'styled-components';\r\nimport { darken, lighten } from 'polished';\r\n\r\nexport const Container = styled.div`\r\n  padding: 30px;\r\n  background: #fff;\r\n  border-radius: 4px;\r\n\r\n  footer {\r\n    margin-top: 30px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n\r\n    button {\r\n      background: #7159c1;\r\n      color: #fff;\r\n      border: 0;\r\n      border-radius: 4px;\r\n      padding: 12px 20px;\r\n      font-weight: bold;\r\n      text-transform: uppercase;\r\n      transition: background 0.2s;\r\n\r\n      &:hover {\r\n        background: ${darken(0.06, '#7159c1')};\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ProductTable = styled.table`\r\n  width: 100%;\r\n\r\n  thead th {\r\n    color: #999;\r\n    text-align: left;\r\n    padding: 12px;\r\n  }\r\n\r\n  tbody td {\r\n    padding: 12px;\r\n    border-bottom: 1px solid #eee;\r\n  }\r\n\r\n  img {\r\n    height: 100px;\r\n  }\r\n\r\n  strong {\r\n    color: #333;\r\n    display: block;\r\n  }\r\n\r\n  span {\r\n    display: block;\r\n    margin-top: 5px;\r\n    font-size: 18px;\r\n    font-weight: bold;\r\n  }\r\n\r\n  div {\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    input {\r\n      border: 1px solid #ddd;\r\n      border-radius: 4px;\r\n      color: #666;\r\n      padding: 6px;\r\n      width: 50px;\r\n    }\r\n  }\r\n\r\n  button {\r\n    background: none;\r\n    border: 0;\r\n    padding: 6px;\r\n\r\n    svg {\r\n      color: #7159c1;\r\n      transition: color 0.2s;\r\n    }\r\n\r\n    &:hover {\r\n      svg {\r\n        color: ${darken(0.06, '#7159c1')};\r\n      }\r\n    }\r\n\r\n    &:disabled {\r\n      svg {\r\n        color: ${lighten(0.25, '#7159c1')};\r\n        cursor: not-allowed;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Total = styled.div`\r\n  display: flex;\r\n  align-items: baseline;\r\n\r\n  span {\r\n    color: #999;\r\n    font-weight: bold;\r\n  }\r\n\r\n  strong {\r\n    font-size: 28px;\r\n    margin-left: 5px;\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport {\r\n  MdDelete,\r\n  MdAddCircleOutline,\r\n  MdRemoveCircleOutline,\r\n} from 'react-icons/md';\r\n\r\nimport { useCart } from '../../hooks/useCart';\r\nimport { formatPrice } from '../../util/format';\r\nimport { Container, ProductTable, Total } from './styles';\r\n\r\ninterface Product {\r\n  id: number;\r\n  title: string;\r\n  price: number;\r\n  image: string;\r\n  amount: number;\r\n}\r\n\r\nconst Cart = (): JSX.Element => {\r\n  const { cart, removeProduct, updateProductAmount } = useCart();\r\n\r\n  const cartFormatted = cart.map(product => {\r\n    const newProduct = {\r\n      ...product,\r\n      priceFormatted: formatPrice(product.price),\r\n      subtotal: formatPrice(product.price * product.amount)\r\n    }\r\n\r\n    return newProduct\r\n  });\r\n\r\n  const total = \r\n    formatPrice(\r\n        cart.reduce((sumTotal, product) => {\r\n          return sumTotal += product.price * product.amount\r\n        }, 0)\r\n    );\r\n\r\n  function handleProductIncrement(product: Product) {\r\n    const newProduct = {\r\n      productId: product.id,\r\n      amount: product.amount + 1\r\n    }\r\n\r\n    updateProductAmount(newProduct);\r\n  }\r\n\r\n  function handleProductDecrement(product: Product) {\r\n    const newProduct = {\r\n      productId: product.id,\r\n      amount: product.amount - 1\r\n    }\r\n\r\n    updateProductAmount(newProduct);\r\n  }\r\n\r\n  function handleRemoveProduct(productId: number) {\r\n    removeProduct(productId);\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <ProductTable>\r\n        <thead>\r\n          <tr>\r\n            <th aria-label=\"product image\" />\r\n            <th>PRODUTO</th>\r\n            <th>QTD</th>\r\n            <th>SUBTOTAL</th>\r\n            <th aria-label=\"delete icon\" />\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {cartFormatted.map(product => (\r\n            <tr key={product.id} data-testid=\"product\">\r\n              <td>\r\n                <img src={product.image} alt={product.title} />\r\n              </td>\r\n              <td>\r\n                <strong>{product.title}</strong>\r\n                <span>{product.priceFormatted}</span>\r\n              </td>\r\n              <td>\r\n                <div>\r\n                  <button\r\n                    type=\"button\"\r\n                    data-testid=\"decrement-product\"\r\n                    disabled={product.amount <= 1}\r\n                    onClick={() => handleProductDecrement(product)}\r\n                  >\r\n                    <MdRemoveCircleOutline size={20} />\r\n                  </button>\r\n                  <input\r\n                    type=\"text\"\r\n                    data-testid=\"product-amount\"\r\n                    readOnly\r\n                    value={product.amount}\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    data-testid=\"increment-product\"\r\n                    onClick={() => handleProductIncrement(product)}\r\n                  >\r\n                    <MdAddCircleOutline size={20} />\r\n                  </button>\r\n                </div>\r\n              </td>\r\n              <td>\r\n                <strong>{product.subtotal}</strong>\r\n              </td>\r\n              <td>\r\n                <button\r\n                  type=\"button\"\r\n                  data-testid=\"remove-product\"\r\n                  onClick={() => handleRemoveProduct(product.id)}\r\n                >\r\n                  <MdDelete size={20} />\r\n                </button>\r\n              </td>\r\n            </tr>\r\n            )\r\n          )}\r\n        </tbody>\r\n      </ProductTable>\r\n\r\n      <footer>\r\n        <button type=\"button\">Finalizar pedido</button>\r\n\r\n        <Total>\r\n          <span>TOTAL</span>\r\n          <strong>{total}</strong>\r\n        </Total>\r\n      </footer>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import { Switch, Route } from 'react-router-dom';\r\n\r\nimport Home from './pages/Home';\r\nimport Cart from './pages/Cart';\r\n\r\nconst Routes = (): JSX.Element => {\r\n  return (\r\n    <Switch>\r\n      <Route path=\"/\" exact component={Home} />\r\n      <Route path=\"/cart\" component={Cart} />\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","export default __webpack_public_path__ + \"static/media/background.72f221ea.svg\";","import { createGlobalStyle } from 'styled-components';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport background from '../assets/images/background.svg';\r\n\r\nexport default createGlobalStyle`\r\n  * {\r\n    margin: 0;\r\n    padding: 0;\r\n    outline: 0;\r\n    box-sizing: border-box;\r\n  }\r\n\r\n  body {\r\n    background: #191920 url(${background}) no-repeat center top;\r\n    -webkit-font-smoothing: antialiased;\r\n  }\r\n\r\n  body, input, button {\r\n    font: 14px Roboto, sans-serif;\r\n  }\r\n\r\n  #root {\r\n    max-width: 1020px;\r\n    margin: 0 auto;\r\n    padding: 0 20px 50px;\r\n  }\r\n\r\n  button {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n","export default __webpack_public_path__ + \"static/media/logo.a865163d.svg\";","import styled from 'styled-components';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport const Container = styled.header`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin: 50px 0;\r\n\r\n  a {\r\n    transition: opacity 0.2s;\r\n\r\n    &:hover {\r\n      opacity: 0.7;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Cart = styled(Link)`\r\n  display: flex;\r\n  align-items: center;\r\n  text-decoration: none;\r\n\r\n  div {\r\n    text-align: right;\r\n    margin-right: 10px;\r\n\r\n    strong {\r\n      display: block;\r\n      color: #fff;\r\n    }\r\n\r\n    span {\r\n      font-size: 12px;\r\n      color: #999;\r\n    }\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { MdShoppingBasket } from 'react-icons/md';\r\n\r\nimport logo from '../../assets/images/logo.svg';\r\nimport { Container, Cart } from './styles';\r\nimport { useCart } from '../../hooks/useCart';\r\n\r\nconst Header = (): JSX.Element => {\r\n  const { cart } = useCart();\r\n  const cartSize = cart.reduce((acc, product) => ( acc + 1), 0);\r\n\r\n  return (\r\n    <Container>\r\n      <Link to=\"/\">\r\n        <img src={logo} alt=\"Rocketshoes\" />\r\n      </Link>\r\n\r\n      <Cart to=\"/cart\">\r\n        <div>\r\n          <strong>Meu carrinho</strong>\r\n          <span data-testid=\"cart-size\">\r\n            {cartSize === 1 ? `${cartSize} item` : `${cartSize} itens`}\r\n          </span>\r\n        </div>\r\n        <MdShoppingBasket size={36} color=\"#FFF\" />\r\n      </Cart>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { ToastContainer } from 'react-toastify';\r\n\r\nimport Routes from './routes';\r\nimport GlobalStyles from './styles/global';\r\nimport Header from './components/Header';\r\nimport { CartProvider } from './hooks/useCart';\r\n\r\nconst App = (): JSX.Element => {\r\n  return (\r\n    <BrowserRouter>\r\n      <CartProvider>\r\n        <GlobalStyles />\r\n        <Header />\r\n        <Routes />\r\n        <ToastContainer autoClose={3000} />\r\n      </CartProvider>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}